  <div data-controller="programcreate">
  <div class="workoutbutton">
    <div data-programcreate-target="workoutcontainer" class="workoutcontainer">
      <input data-programcreate-target="workoutindex" class="workoutindex" type="hidden" value="1">

      <%= form_with(model: [program, workout]) do |work| %>
        <input class="workoutnumber" type="hidden" value="0">

        <div class="border rounded p-3 mb-4">
          <h4>Workout</h4>
          <div class="row mb-3">
            <div class="col-md-6">
              <%= work.label :name, style: "display: block;" %>
              <%= work.text_field :name, class: "form-control" %>
            </div>
            <div class="col-md-6">
              <%= work.label :desc, style: "display: block;" %>
              <%= work.textarea :desc, class: "form-control" %>
            </div>
          </div>

          <div class="exercisebutton">
            <div class="exercisecontainer border p-2 mb-3 rounded">
              <%= work.fields_for :exercises do |ex| %>
                <input class="exerciseindex" type="hidden" value="1">
                <button type="button" class="btn btn-sm btn-outline-secondary" data-action="click->programcreate#addexercise">Add Exercise</button>
                <div class="exercise">
                  <div class="row">
                    <div class="col-md-3">
                      <%= ex.label :name, style: "display: block;" %>
                      <%= ex.text_field :name, class: "form-control" %>
                    </div>
                    <div class="col-md-3">
                      <%= ex.label :sets, style: "display: block;" %>
                      <%= ex.number_field :sets, class: "form-control" %>
                    </div>
                    <div class="col-md-3">
                      <%= ex.label :reps, style: "display: block;" %>
                      <%= ex.text_field :reps, class: "form-control" %>
                    </div>

                    <div class="col-md-3">
                      <%= ex.label :action, style: "display: block;" %>
                      <button type="button" data-action="click->programcreate#removeexercise" class="btn btn-secondary">Remove</button>
                    </div>
                  
                  </div>
                </div>
              <% end %>

            </div>
          </div>
        </div>

  <div>
    <%= work.submit %>
  </div>

      <% end %>
    </div>

<template data-programcreate-target="exercisetemplate">
  <div class="exercise row mb-2">
    <div class="col-md-3">
      <label class="form-label">Exercise Name</label>
      <input type="text" class="form-control" name="program[workouts_attributes][PROGRAM_INDEX][exercises_attributes][EXERCISE_INDEX][name]">
    </div>

    <div class="col-md-3">
      <label class="form-label">Sets</label>
      <input type="number" class="form-control" name="program[workouts_attributes][PROGRAM_INDEX][exercises_attributes][EXERCISE_INDEX][sets]">
    </div>

    <div class="col-md-3">
      <label class="form-label">Reps</label>
      <input type="text" class="form-control" name="program[workouts_attributes][PROGRAM_INDEX][exercises_attributes][EXERCISE_INDEX][reps]">
    </div>

    <div class="col-md-3 d-flex flex-column">
      <label class="form-label">Action</label>
      <button type="button" style="width:80px;" data-action="click->programcreate#removeexercise" class="btn btn-secondary col-md-3 d-flex flex-column">Remove</button>
    </div>
  </div>
</template>

</div>

